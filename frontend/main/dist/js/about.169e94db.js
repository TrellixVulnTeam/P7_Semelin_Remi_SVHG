(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about"],{"02ff":function(t,e,n){"use strict";n("1b09")},"0919":function(t,e,n){},"0c9d":function(t,e,n){},"12fa":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"baner"})},a=[],o={name:"baner",data:function(){return{message:"coucou les gens"}}},s=o,c=(n("7ea0"),n("2877")),r=Object(c["a"])(s,i,a,!1,null,null,null);e["a"]=r.exports},1431:function(t,e,n){},"1b09":function(t,e,n){},2751:function(t,e,n){},"2d63":function(t,e,n){"use strict";n("0919")},"35ec":function(t,e,n){t.exports=n.p+"img/envoyer.e86f44ad.svg"},"50ed":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"messagerie"},[n("Baner")],1)},a=[],o=n("12fa"),s={name:"Messagerie",components:{Baner:o["a"]}},c=s,r=n("2877"),l=Object(r["a"])(c,i,a,!1,null,null,null);e["default"]=l.exports},"56d0":function(t,e,n){},"6aab":function(t,e,n){"use strict";n("56d0")},"795c":function(t,e,n){"use strict";n("1431")},"7ea0":function(t,e,n){"use strict";n("9c18")},"8a35":function(t,e,n){},"96d9":function(t,e,n){"use strict";n("fb53")},"9c18":function(t,e,n){},a180:function(t,e,n){"use strict";n("0c9d")},bb51:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"home"}},[n("Baner"),n("div",[n("addArticle",{on:{added:t.add}})],1),t._l(t.articles,(function(e){return n("post",{key:e.id,attrs:{body:e.body,imageUrl:e.imageUrl,id:e.id,userId:e.userId,pseudo:e.User.pseudo,bodyLength:e.bodyLength},on:{getArticles:function(e){return t.getArticles()}}})})),n("modale")],2)},a=[],o=n("12fa"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("main",{attrs:{id:"posts"}},[n("p",{staticClass:"pseudo"},[t._v(t._s(t.pseudo))]),n("button",{staticClass:"user-post-access",on:{click:function(e){return t.scrollMenu()}}},[t._v("...")]),t.revealScrollMenu?n("div",{attrs:{id:"modify-section"}},[n("button",{staticClass:"signup-button modify",on:{click:function(e){t.displayModaleModify(),t.hideScrollMenu()}}},[t._v("modifier")]),n("button",{staticClass:"signup-button modify",on:{click:function(e){t.displayModaleDelete(),t.hideScrollMenu()}}},[t._v("supprimer")])]):t._e(),n("modale",{attrs:{reveal:this.reveal,modifyArticle:this.modifyArticle,deleteArticle:this.deleteArticle,id:this.id},on:{getArticles:function(e){return t.getArticles()},getComments:function(e){return t.getComments()},unreveal:function(e){return t.hideModale()},undisplay:function(e){return t.undisplay()}}}),n("article",{staticClass:"article"},[n("p",{class:{allText:t.text,textHidden:!t.text}},[t._v(" "+t._s(t.body))]),this.textArticleIsLong?n("p",{staticClass:"afficher-suite",on:{click:function(e){return t.displayAllText()}}},[t._v("afficher la suite")]):t._e(),n("img",{staticClass:"image-post",attrs:{src:this.imageUrl}})]),n("div",[n("addReaction",{attrs:{articleId:this.id},on:{addedReaction:t.addedReaction}})],1),n("div",[n("button",{staticClass:"comments-button reactions-button",on:{click:function(e){t.getComments(),t.displayCommentaire()}}},[t._v(t._s(t.countComments)+" commentaires")]),n("button",{staticClass:"comments-button reactions-button",on:{click:function(e){t.getReactions(),t.displayReaction()}}},[t._v(t._s(t.countReactions)+" reactions")])]),t.displayReactions?n("div",t._l(t.reactions,(function(t){return n("reactions",{key:t.id,staticClass:"reaction",attrs:{reaction:t.reaction,name:t.ReactionsType.name,id:t.ReactionsType.id,pseudo:t.User.pseudo}})})),1):t._e(),t.displayComments?n("div",t._l(t.comments,(function(t){return n("commentaire",{key:t.id,attrs:{note:t.note,id:t.id,userId:t.userId,pseudo:t.User.pseudo}})})),1):t._e(),n("addComment",{attrs:{id:this.id},on:{addedComment:t.addComment}})],1)])},c=[],r=(n("a9e3"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"bloc-comment"},[n("p",{staticClass:"pseudo"},[t._v(t._s(t.pseudo))]),n("p",{staticClass:"comment"},[t._v(t._s(t.note))]),t.auth?n("button",{staticClass:"user-comment-access",on:{click:function(e){return t.scrollCommentMenu()}}},[t._v("...")]):t._e()]),t.revealCommentScrollMenu?n("div",{attrs:{id:"modify-comment-section"}},[n("button",{on:{click:function(e){t.displayModaleModify(),t.hideScrollMenu()}}},[t._v("modifier")]),n("button",{on:{click:function(e){t.displayModaleDelete(),t.hideScrollMenu()}}},[t._v("supprimer")])]):t._e(),n("modale",{attrs:{reveal:this.reveal,modifyCommentaire:this.modifyCommentaire,deleteCommentaire:this.deleteCommentaire,commentId:this.id},on:{unreveal:function(e){return t.hideModale()},undisplay:function(e){return t.undisplay()}}})],1)}),l=[],d=n("d09f"),u={name:"Comment",components:{modale:d["a"]},data:function(){return{reveal:!1,revealCommentScrollMenu:!1,modifyCommentaire:!1,deleteCommentaire:!1}},props:{note:{type:String,default:""},id:{type:Number},userId:{type:Number},articleId:{type:Number},pseudo:{type:String,default:""}},methods:{scrollCommentMenu:function(){this.revealCommentScrollMenu=!this.revealCommentScrollMenu},hideScrollMenu:function(){this.revealCommentScrollMenu=!1},displayModaleModify:function(){this.reveal=!this.reveal,this.modifyCommentaire=!0},displayModaleDelete:function(){this.reveal=!this.reveal,this.deleteCommentaire=!0},hideModale:function(){this.reveal=!1,this.modifyCommentaire=!1,this.deleteCommentaire=!1},undisplay:function(){this.deleteCommentaire=!1}},computed:{auth:function(){return localStorage.userId==this.userId}}},m=u,h=(n("96d9"),n("2877")),p=Object(h["a"])(m,r,l,!1,null,null,null),f=p.exports,v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"reactions"},[n("p",{staticClass:"pseudo pseudo-reaction"},[t._v(t._s(t.pseudo))]),n("p",{staticClass:"reaction-type-name reaction",class:t.reactionColor},[t._v(t._s(t.name)+" ")])])},y=[],g={name:"reactions",data:function(){return{content:!1,excite:!1,stresse:!1,impatient:!1}},props:{name:{type:String,default:""},pseudo:{type:String},id:{type:Number}},computed:{reactionColor:function(){return{content:this.content,excite:this.excite,stresse:this.stresse,impatient:this.impatient}}},beforeMount:function(){1==this.id?this.content=!0:2==this.id?this.excite=!0:3==this.id?this.stresse=!0:4==this.id&&(this.impatient=!0)}},b=g,C=(n("e6da"),Object(h["a"])(b,v,y,!1,null,null,null)),_=C.exports,x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"reactions-types-bloc"},t._l(t.reactionsTypes,(function(e){return n("reactionsTypes",{key:e.id,attrs:{name:e.name,id:e.id},on:{addedReaction:t.addedReaction}})})),1)},A=[],M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"reactions-types"},[n("div",{class:t.reactionColor},[n("p",{staticClass:"reaction-type-name",on:{click:function(e){return t.addReaction()}}},[t._v(" "+t._s(t.name))])])])},S=[],k={name:"reactionsTypes",data:function(){return{content:!1,excite:!1,stresse:!1,impatient:!1}},props:{name:{type:String,default:""},id:{type:Number}},methods:{addReaction:function(){this.$emit("addedReaction",{typeId:this.id})}},computed:{reactionColor:function(){return{content:this.content,excite:this.excite,stresse:this.stresse,impatient:this.impatient}}},beforeMount:function(){1==this.id?this.content=!0:2==this.id?this.excite=!0:3==this.id?this.stresse=!0:4==this.id&&(this.impatient=!0)}},I=k,R=(n("795c"),Object(h["a"])(I,M,S,!1,null,null,null)),T=R.exports,$=n("bc3a"),N={name:"addReaction",components:{reactionsTypes:T},data:function(){return{reactionsTypes:[]}},props:{articleId:{type:Number}},methods:{addedReaction:function(t){var e=this;$.post("http://localhost:3000/api/articles/"+this.articleId+"/reactions",{reaction:t.typeId},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){e.$emit("addedReaction",{reaction:t.data.reactions})}))}},beforeMount:function(){var t=this;$.get("http://localhost:3000/api/articles/"+this.articleId+"/reactionsTypes",{headers:{authorization:"bearer "+localStorage.getItem("token")}}).then((function(e){t.reactionsTypes=e.data.reactionsTypes}))}},j=N,w=(n("2d63"),Object(h["a"])(j,x,A,!1,null,null,null)),E=w.exports,O=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"add-comment"}},[i("div",{staticClass:"add-comment-button",on:{click:function(e){t.commentTextArea=!t.commentTextArea}}},[t._v("Commenter")]),t.commentTextArea?[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.note,expression:"note"}],attrs:{name:"text-input",id:"comment-text-area",cols:"30",rows:"2"},domProps:{value:t.note},on:{input:function(e){e.target.composing||(t.note=e.target.value)}}}),i("img",{attrs:{src:n("35ec"),id:"button-send"},on:{click:function(e){t.addComment(),t.commentTextArea=!1}}})]:t._e()],2)},z=[],B=n("bc3a"),L={name:"addComment",data:function(){return{commentTextArea:!1,click:!1,note:""}},props:{id:{type:Number}},methods:{addComment:function(){var t=this;B.post("http://localhost:3000/api/articles/"+this.id+"/comments",{note:this.note},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){e&&t.$emit("addedComment",{comment:e.data.comment[0]})}))}}},U=L,D=(n("a180"),Object(h["a"])(U,O,z,!1,null,null,null)),P=D.exports,H=n("bc3a"),J={name:"post",components:{commentaire:f,reactions:_,addReaction:E,addComment:P,modale:d["a"]},data:function(){return{commentTextArea:!1,click:!1,revealScrollMenu:!1,revealCommentScrollMenu:!1,reveal:!1,modifyArticle:!1,deleteArticle:!1,comments:[],displayComments:!1,reactions:[],displayReactions:!1,countComments:"",countReactions:"",textArticleIsLong:!1,text:!1}},props:{body:{type:String,default:""},id:{type:Number},userId:{type:Number},imageUrl:{type:String,default:""},pseudo:{type:String,default:""},bodyLength:{type:Number}},methods:{scrollMenu:function(){this.revealScrollMenu=!this.revealScrollMenu},displayModaleModify:function(){this.reveal=!this.reveal,this.modifyArticle=!0},displayModaleDelete:function(){this.reveal=!this.reveal,this.deleteArticle=!0},hideModale:function(){this.reveal=!1,this.modifyArticle=!1,this.deleteArticle=!1},hideScrollMenu:function(){this.revealScrollMenu=!1},undisplay:function(){this.modifyArticle=!1,this.deleteArticle=!1},getArticles:function(){this.$emit("getArticles")},addComment:function(t){this.comments.push(t.comment),this.getComments(),this.countComments++},getComments:function(){var t=this;H.get("http://localhost:3000/api/articles/"+this.id+"/comments",{headers:{authorization:"bearer "+localStorage.getItem("token")}}).then((function(e){t.comments=e.data.comments})).catch()},displayCommentaire:function(){this.displayComments=!this.displayComments},getReactions:function(){var t=this;H.get("http://localhost:3000/api/articles/"+this.id+"/reactions",{headers:{authorization:"bearer "+localStorage.getItem("token")}}).then((function(e){t.reactions=e.data.reactions}))},displayReaction:function(){this.displayReactions=!this.displayReactions},addedReaction:function(t){this.reactions.push(t.reaction),this.getReactions(),this.countReactions++},displayAllText:function(){this.text=!this.text}},beforeMount:function(){var t=this;H.get("http://localhost:3000/api/articles/"+this.id+"/comments/count",{headers:{authorization:"bearer "+localStorage.getItem("token")}}).then((function(e){t.countComments=e.data.countComments})).catch(),H.get("http://localhost:3000/api/articles/"+this.id+"/reactions/count",{headers:{authorization:"bearer "+localStorage.getItem("token")}}).then((function(e){t.countReactions=e.data.countReactions})).catch(),this.bodyLength>180&&(this.textArticleIsLong=!0)}},F=J,q=(n("02ff"),Object(h["a"])(F,s,c,!1,null,null,null)),G=q.exports,K=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"add-article"}},[n("button",{staticClass:"signup-button add-article-button",on:{click:function(e){return t.articleTextArea()}}},[t._v("Publier un article")]),t.addArticle?[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.body,expression:"body"}],staticClass:"text-area",attrs:{name:"text-input",id:"post-text-area",cols:"30",rows:"8"},domProps:{value:t.body},on:{input:function(e){e.target.composing||(t.body=e.target.value)}}}),n("input",{ref:"image",staticClass:"file-insert-button button",attrs:{type:"file",name:"image",accept:"image/png, image/jpeg"},on:{change:function(e){return t.value()}}}),n("button",{staticClass:"send-article-button",on:{click:function(e){t.sendArticle(),t.articleTextArea()}}},[t._v("SEND")])]:t._e()],2)},Q=[],V=n("bc3a"),W={name:"addArticle",components:{},data:function(){return{body:"",userId:parseInt(localStorage.getItem("userId")),addArticle:!1,image:"",empty:"name"}},methods:{articleTextArea:function(){this.addArticle=!this.addArticle},sendArticle:function(){var t=this;console.log(this.image);var e=new FormData;e.append("image",this.image),e.append("body",this.body),V.post("http://localhost:3000/api/articles",e,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.$emit("added",{article:e.data.article[0]})}))},value:function(){this.image=this.$refs.image.files[0]}}},X=W,Y=(n("cd97"),Object(h["a"])(X,K,Q,!1,null,null,null)),Z=Y.exports,tt=n("bc3a"),et={name:"Home",components:{Baner:o["a"],post:G,addArticle:Z,modale:d["a"]},data:function(){return{articles:[],login:!1,reveal:!1,logout:!1}},methods:{getArticles:function(){var t=this;tt.get("http://localhost:3000/api/articles",{headers:{authorization:"bearer "+localStorage.getItem("token")}}).then((function(e){console.log(e),t.articles=e.data.articles,t.$emit("displayAllText")}))},add:function(t){console.log(t.article),this.articles.push(t.article),this.getArticles()}},beforeMount:function(){localStorage.token&&(this.reveal=!1,this.getArticles())}},nt=et,it=(n("6aab"),Object(h["a"])(nt,i,a,!1,null,"371c5394",null));e["default"]=it.exports},cd97:function(t,e,n){"use strict";n("8a35")},e6da:function(t,e,n){"use strict";n("2751")},fb53:function(t,e,n){}}]);
//# sourceMappingURL=about.169e94db.js.map